competitions <- fromJSON(file="D:\\Akademik Çalışmalar\\Spor Bilimi\\Futbol\\Statsbomb\\data\\competitions.json")
library(tidyverse)
library(rjson)
library(parallel)
library(DT)
path <- "D:\\Akademik Çalışmalar\\Spor Bilimi\\Futbol\\Statsbomb\\data\\"
# competitions <- fromJSON(file="C:\\Users\\dell\\Desktop\\FoT\\open-data-master\\data\\competitions.json")
competitions <- fromJSON(file=paste0(path,"competitions.json"))
competitions <- bind_rows(competitions)
datatable(competitions)
match.files <- list.files(path=file=paste0(path,"matches.json"),
match.files <- list.files(path=paste0(path,"matches.json"),
full.names = TRUE,recursive = TRUE)
match.files
paste0(path,"matches.json")
match.files <- list.files(path=paste0(path,"matches"),
full.names = TRUE,recursive = TRUE)
match.files
library(tidyverse)
library(rjson)
library(parallel)
library(DT)
library(tidyverse)
library(rjson)
library(parallel)
library(DT)
user = "erhan"
if(user = "erhan")
user = "erhan"
if(user == "erhan")
{path = "D:\\Akademik Çalışmalar\\Spor Bilimi\\Futbol\\Statsbomb\\data\\"}
if(user == "ekrem")
{path = "C:\\Users\\dell\\Desktop\\FoT\\open-data-master\\data\\"}
# competitions <- fromJSON(file="C:\\Users\\dell\\Desktop\\FoT\\open-data-master\\data\\competitions.json")
competitions <- fromJSON(file=paste0(path,"competitions.json"))
competitions <- bind_rows(competitions)
datatable(competitions)
match.files <- list.files(path=paste0(path,"matches"),
full.names = TRUE,recursive = TRUE)
match.files
all.matches <- lapply(match.files, function(x){
match.temp <- fromJSON(file=x)
matches.df <- lapply(match.temp, function(y){
data.frame(t(unlist(y)), stringsAsFactors = FALSE)
})
bind_rows(matches.df)
}) %>% bind_rows()
rm(match.files)
datatable(all.matches)
all.matches %>%
group_by(competition.competition_name, season.season_name, home_team.home_team_gender) %>%
count() %>%
datatable()
numofmatches <- rbind(
all.matches %>% select(competition.competition_name, season.season_name,
home_team.home_team_name, home_team.home_team_gender) %>%
rename(competition = competition.competition_name, gender = home_team.home_team_gender,
team = home_team.home_team_name, season = season.season_name),
all.matches %>% select(competition.competition_name, season.season_name,
away_team.away_team_name, home_team.home_team_gender) %>%
rename(competition = competition.competition_name, gender = home_team.home_team_gender,
team = away_team.away_team_name, season = season.season_name)
) %>% group_by(competition, season, team, gender) %>%
count()
datatable(numofmatches)
